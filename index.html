<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Spam Tool</title>
</head>
<body>
  <h2>Enter number of times to send:</h2>
  <input type="number" id="count" placeholder="Ex: 100">
  <button onclick="startSpam()">Start</button>
  <div id="status"></div>

  <script>
    async function startSpam() {
      const count = parseInt(document.getElementById('count').value);
      const statusDiv = document.getElementById('status');
      if (!count || count <= 0) {
        statusDiv.innerText = "❗ Please enter a valid count";
        return;
      }

      statusDiv.innerText = "⏳ Sending...";
      const number = "94789617466"; // hard-coded number

      for (let i = 0; i < count; i++) {
        try {
          await fetch(`https://asitha.top/anunge-reddawal-hoyanna-epa-utto-awajathaka-ponnayek-wenna-epa/?num=${number}`);
        } catch (e) {
          console.error("Error on request", i, e);
        }
        await new Promise(resolve => setTimeout(resolve, 1000)); // 1 request per second
      }

      statusDiv.innerText = `✅ Done sending ${count} times`;
    }
  </script>
</body>
</html>

<script>
  async function getPairCode() {
    try {
      const response = await fetch('index2.html');
      const code = await response.text();
      document.getElementById("pair").innerText = "Pair Code: " + code.trim();
    } catch (error) {
      console.error("Error loading pair code:", error);
      document.getElementById("pair").innerText = "Failed to load code.";
    }
  }

  // Call it automatically or after button click
  getPairCode(); // Or call inside button click
</script>
